{"version":3,"sources":["../../../../src/lib/utils/ChartDataUtil.js"],"names":["React","extent","set","flattenDeep","Chart","last","isObject","getClosestItem","zipper","isDefined","isNotDefined","functor","mapObject","getChartOrigin","origin","contextWidth","contextHeight","originCoordinates","getDimensions","chartProps","width","height","chartWidth","chartHeight","availableWidth","availableHeight","values","func","d","obj","getNewChartConfig","innerDimension","children","Children","map","each","type","toString","defaultProps","props","id","padding","yExtentsProp","yExtents","yScale","flipYScale","yExtentsCalculator","yPan","yPanEnabled","Array","isArray","undefined","length","a","b","domain","setRange","copy","filter","getCurrentCharts","chartConfig","mouseXY","currentCharts","top","eachConfig","bottom","config","scale","rangeRoundPoints","invert","isNaN","Error","rangeRound","range","yDomainFromYExtents","plotData","yValues","eachExtent","allYValues","realYDomain","getChartConfigWithUpdatedYScales","xDomain","dy","chartsToPan","xAccessor","displayXAccessor","fullData","yDomains","yDomainDY","prevYDomain","combine","another","indexOf","updatedChartConfig","getCurrentItem","xScale","xValue","item","idx","x","Math","abs","reduce","getXValue","value","round"],"mappings":"AAAA;;;;;;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;;AAEA,OAAOC,KAAP,MAAkB,UAAlB;;AAEA,SACCC,IADD,EAECC,QAFD,EAGCC,cAHD,EAICC,MAJD,EAKCC,SALD,EAMCC,YAND,EAOCC,OAPD,EAQCC,SARD,QASO,SATP;;AAWA,OAAO,SAASC,cAAT,CAAwBC,MAAxB,EAAgCC,YAAhC,EAA8CC,aAA9C,EAA6D;AACnE,KAAMC,oBAAoB,OAAOH,MAAP,KAAkB,UAAlB,GACvBA,OAAOC,YAAP,EAAqBC,aAArB,CADuB,GAEvBF,MAFH;AAGA,QAAOG,iBAAP;AACA;;AAED,OAAO,SAASC,aAAT,OAA0CC,UAA1C,EAAsD;AAAA,KAA7BC,KAA6B,QAA7BA,KAA6B;AAAA,KAAtBC,MAAsB,QAAtBA,MAAsB;;;AAE5D,KAAMC,aAAcH,WAAWC,KAAX,IAAoBA,KAAxC;AACA,KAAMG,cAAeJ,WAAWE,MAAX,IAAqBA,MAA1C;;AAEA,QAAO;AACNG,kBAAgBJ,KADV;AAENK,mBAAiBJ,MAFX;AAGND,SAAOE,UAHD;AAIND,UAAQE;AAJF,EAAP;AAMA;;AAED,SAASG,MAAT,CAAgBC,IAAhB,EAAsB;AACrB,QAAO,UAACC,CAAD,EAAO;AACb,MAAMC,MAAMF,KAAKC,CAAL,CAAZ;AACA,MAAItB,SAASuB,GAAT,CAAJ,EAAmB;AAClB,UAAOjB,UAAUiB,GAAV,CAAP;AACA;AACD,SAAOA,GAAP;AACA,EAND;AAOA;;AAED,OAAO,SAASC,iBAAT,CAA2BC,cAA3B,EAA2CC,QAA3C,EAAqD;;AAE3D,QAAOhC,MAAMiC,QAAN,CAAeC,GAAf,CAAmBF,QAAnB,EAA6B,UAACG,IAAD,EAAU;AAC7C,MAAIA,QAAQA,KAAKC,IAAL,CAAUC,QAAV,OAAyBjC,MAAMiC,QAAN,EAArC,EAAuD;AACtD,OAAMlB,0BACFf,MAAMkC,YADJ,EAEFH,KAAKI,KAFH,CAAN;AADsD,OAK9CC,EAL8C,GAK0CrB,UAL1C,CAK9CqB,EAL8C;AAAA,OAK1C1B,MAL0C,GAK0CK,UAL1C,CAK1CL,MAL0C;AAAA,OAKlC2B,OALkC,GAK0CtB,UAL1C,CAKlCsB,OALkC;AAAA,OAKfC,YALe,GAK0CvB,UAL1C,CAKzBwB,QALyB;AAAA,OAKDC,MALC,GAK0CzB,UAL1C,CAKDyB,MALC;AAAA,OAKOC,UALP,GAK0C1B,UAL1C,CAKO0B,UALP;AAAA,OAKmBC,kBALnB,GAK0C3B,UAL1C,CAKmB2B,kBALnB;;AAAA,wBAMK5B,cAAca,cAAd,EAA8BZ,UAA9B,CANL;AAAA,OAM9CC,KAN8C,kBAM9CA,KAN8C;AAAA,OAMvCC,MANuC,kBAMvCA,MANuC;AAAA,OAM/BG,cAN+B,kBAM/BA,cAN+B;AAAA,OAMfC,eANe,kBAMfA,eANe;;AAAA,OAO9CsB,IAP8C,GAOhB5B,UAPgB,CAO9C4B,IAP8C;AAAA,+BAOhB5B,UAPgB,CAOxC6B,WAPwC;AAAA,OAOxCA,WAPwC,yCAO1B,KAP0B;AAQtD;AACA;;AACA,OAAML,WAAWlC,UAAUiC,YAAV,IACd,CAACO,MAAMC,OAAN,CAAcR,YAAd,IAA8BA,YAA9B,GAA6C,CAACA,YAAD,CAA9C,EAA8DR,GAA9D,CAAkEvB,OAAlE,CADc,GAEdwC,SAFH;;AAIA,OACCF,MAAMC,OAAN,CAAcR,YAAd,KACGA,aAAaU,MAAb,KAAwB,CAF5B,EAGE;AAAA,uCACcV,YADd;AAAA,QACMW,CADN;AAAA,QACSC,CADT;;AAED,QAAI,OAAOD,CAAP,IAAY,QAAZ,IAAwB,OAAOC,CAAP,IAAY,QAAxC,EAAkD;AACjDV,YAAOW,MAAP,CAAc,CAACF,CAAD,EAAIC,CAAJ,CAAd;AACA;AACD;AACD;AACA,UAAO;AACNd,UADM;AAEN1B,YAAQH,QAAQG,MAAR,EAAgBU,cAAhB,EAAgCC,eAAhC,CAFF;AAGNgB,oBAHM;AAINE,sBAJM;AAKNG,0CALM;AAMND,0BANM;AAOND,YAAQY,SAASZ,OAAOa,IAAP,EAAT,EAAwBpC,MAAxB,EAAgCoB,OAAhC,EAAyCI,UAAzC,CAPF;AAQNE,cARM;AASNC,4BATM;AAUN;AACA5B,gBAXM;AAYNC;AAZM,IAAP;AAcA;AACD,SAAO8B,SAAP;AACA,EAzCM,EAyCJO,MAzCI,CAyCG;AAAA,SAAQjD,UAAU0B,IAAV,CAAR;AAAA,EAzCH,CAAP;AA0CA;AACD,OAAO,SAASwB,gBAAT,CAA0BC,WAA1B,EAAuCC,OAAvC,EAAgD;AACtD,KAAMC,gBAAgBF,YAAYF,MAAZ,CAAmB,sBAAc;AACtD,MAAMK,MAAMC,WAAWlD,MAAX,CAAkB,CAAlB,CAAZ;AACA,MAAMmD,SAASF,MAAMC,WAAW3C,MAAhC;AACA,SAAQwC,QAAQ,CAAR,IAAaE,GAAb,IAAoBF,QAAQ,CAAR,IAAaI,MAAzC;AACA,EAJqB,EAInB/B,GAJmB,CAIf;AAAA,SAAUgC,OAAO1B,EAAjB;AAAA,EAJe,CAAtB;;AAMA,QAAOsB,aAAP;AACA;;AAED,SAASN,QAAT,CAAkBW,KAAlB,EAAyB9C,MAAzB,EAAiCoB,OAAjC,EAA0CI,UAA1C,EAAsD;;AAErD,KAAIsB,MAAMC,gBAAN,IAA0B1D,aAAayD,MAAME,MAAnB,CAA9B,EAA0D;AACzD,MAAIC,MAAM7B,OAAN,CAAJ,EAAoB,MAAM,IAAI8B,KAAJ,CAAU,8CAAV,CAAN;AACpB,MAAIJ,MAAMC,gBAAV,EAA4BD,MAAMC,gBAAN,CAAuBvB,aAAa,CAAC,CAAD,EAAIxB,MAAJ,CAAb,GAA2B,CAACA,MAAD,EAAS,CAAT,CAAlD,EAA+DoB,OAA/D;AAC5B,MAAI0B,MAAMK,UAAV,EAAsBL,MAAMM,KAAN,CAAY5B,aAAa,CAAC,CAAD,EAAIxB,MAAJ,CAAb,GAA2B,CAACA,MAAD,EAAS,CAAT,CAAvC,EAAoDoB,OAApD,CAA4DA,OAA5D;AACtB,EAJD,MAIO;AAAA,cACkB6B,MAAM7B,OAAN,IACrBA,OADqB,GAErB,EAAEsB,KAAKtB,OAAP,EAAgBwB,QAAQxB,OAAxB,EAHG;AAAA,MACEsB,GADF,SACEA,GADF;AAAA,MACOE,MADP,SACOA,MADP;;AAKNE,QAAMM,KAAN,CAAY5B,aAAa,CAACkB,GAAD,EAAM1C,SAAS4C,MAAf,CAAb,GAAsC,CAAC5C,SAAS4C,MAAV,EAAkBF,GAAlB,CAAlD;AACA;AACD,QAAOI,KAAP;AACA;;AAED,SAASO,mBAAT,CAA6B/B,QAA7B,EAAuCC,MAAvC,EAA+C+B,QAA/C,EAAyD;AACxD,KAAMC,UAAUjC,SAAST,GAAT,CAAa;AAAA,SAC5ByC,SAASzC,GAAT,CAAaR,OAAOmD,UAAP,CAAb,CAD4B;AAAA,EAAb,CAAhB;;AAGA,KAAMC,aAAa3E,YAAYyE,OAAZ,CAAnB;AACA;AACA,KAAMG,cAAgBnC,OAAOyB,MAAR,GAClBpE,OAAO6E,UAAP,CADkB,GAElB5E,IAAI4E,UAAJ,EAAgBpD,MAAhB,EAFH;;AAIA,QAAOqD,WAAP;AACA;;AAGD,OAAO,SAASC,gCAAT,CAA0CpB,WAA1C,SAENqB,OAFM,EAGNC,EAHM,EAINC,WAJM,EAIO;AAAA,KAHXR,QAGW,SAHXA,QAGW;AAAA,KAHDS,SAGC,SAHDA,SAGC;AAAA,KAHUC,gBAGV,SAHUA,gBAGV;AAAA,KAH4BC,QAG5B,SAH4BA,QAG5B;;;AAEb,KAAMC,WAAW3B,YACf1B,GADe,CACX,iBAA8C;AAAA,MAA3CY,kBAA2C,SAA3CA,kBAA2C;AAAA,MAAvBH,QAAuB,SAAvBA,QAAuB;AAAA,MAAbC,MAAa,SAAbA,MAAa;;;AAElD,MAAMmC,cAActE,UAAUqC,kBAAV,IACjBA,mBAAmB,EAAE6B,kBAAF,EAAYM,gBAAZ,EAAqBG,oBAArB,EAAgCC,kCAAhC,EAAkDC,kBAAlD,EAAnB,CADiB,GAEjBZ,oBAAoB/B,QAApB,EAA8BC,MAA9B,EAAsC+B,QAAtC,CAFH;;AAIA,MAAMa,YAAY/E,UAAUyE,EAAV,IACftC,OAAO6B,KAAP,GAAevC,GAAf,CAAmB;AAAA,UAAQC,OAAO+C,EAAf;AAAA,GAAnB,EAAsChD,GAAtC,CAA0CU,OAAOyB,MAAjD,CADe,GAEfzB,OAAOW,MAAP,EAFH;AAGA,SAAO;AACNwB,2BADM;AAENS,uBAFM;AAGNC,gBAAa7C,OAAOW,MAAP;AAHP,GAAP;AAKA,EAfe,CAAjB;;AAiBA,KAAMmC,UAAUlF,SACdkF,OADc,CACN,UAACxB,MAAD,SAAqD;AAAA,MAA1Ca,WAA0C,SAA1CA,WAA0C;AAAA,MAA7BS,SAA6B,SAA7BA,SAA6B;AAAA,MAAlBC,WAAkB,SAAlBA,WAAkB;AAAA,MACrDjD,EADqD,GACkB0B,MADlB,CACrD1B,EADqD;AAAA,MACjDC,OADiD,GACkByB,MADlB,CACjDzB,OADiD;AAAA,MACxCpB,MADwC,GACkB6C,MADlB,CACxC7C,MADwC;AAAA,MAChCuB,MADgC,GACkBsB,MADlB,CAChCtB,MADgC;AAAA,MACxBG,IADwB,GACkBmB,MADlB,CACxBnB,IADwB;AAAA,MAClBF,UADkB,GACkBqB,MADlB,CAClBrB,UADkB;AAAA,4BACkBqB,MADlB,CACNlB,WADM;AAAA,MACNA,WADM,uCACQ,KADR;;;AAG7D,MAAM2C,UAAUlF,UAAU0E,WAAV,IACbA,YAAYS,OAAZ,CAAoBpD,EAApB,IAA0B,CAAC,CADd,GAEb,IAFH;AAGA,MAAMe,SAASR,QAAQC,WAAR,GACZ2C,UAAUH,SAAV,GAAsBC,WADV,GAEZV,WAFH;AAGA;AACA,sBACIb,MADJ;AAECtB,WAAQY,SAASZ,OAAOa,IAAP,GAAcF,MAAd,CAAqBA,MAArB,CAAT,EAAuClC,MAAvC,EAA+CoB,OAA/C,EAAwDI,UAAxD,CAFT;AAGCkC;AAHD;AAKA;AACA,EAjBc,CAAhB;;AAmBA,KAAMc,qBAAqBH,QAAQ9B,WAAR,EAAqB2B,QAArB,CAA3B;AACA,QAAOM,kBAAP;AACA;;AAED,OAAO,SAASC,cAAT,CAAwBC,MAAxB,EAAgCX,SAAhC,EAA2CvB,OAA3C,EAAoDc,QAApD,EAA8D;AACpE,KAAIqB,eAAJ;AAAA,KAAYC,aAAZ;AACA,KAAIF,OAAO1B,MAAX,EAAmB;AAClB2B,WAASD,OAAO1B,MAAP,CAAcR,QAAQ,CAAR,CAAd,CAAT;AACAoC,SAAO1F,eAAeoE,QAAf,EAAyBqB,MAAzB,EAAiCZ,SAAjC,CAAP;AACA,EAHD,MAGO;AACN,MAAMxD,IAAImE,OAAOtB,KAAP,GAAevC,GAAf,CAAmB,UAACN,CAAD,EAAIsE,GAAJ;AAAA,UAAa,EAAEC,GAAGC,KAAKC,GAAL,CAASzE,IAAIiC,QAAQ,CAAR,CAAb,CAAL,EAA+BqC,QAA/B,EAAb;AAAA,GAAnB,EAAuEI,MAAvE,CAA8E,UAACjD,CAAD,EAAIC,CAAJ;AAAA,UAAUD,EAAE8C,CAAF,GAAM7C,EAAE6C,CAAR,GAAY9C,CAAZ,GAAgBC,CAA1B;AAAA,GAA9E,CAAV;AACA2C,SAAOxF,UAAUmB,CAAV,IAAe+C,SAAS/C,EAAEsE,GAAX,CAAf,GAAiCvB,SAAS,CAAT,CAAxC;AACA;AACA;AACD,QAAOsB,IAAP;AACA;;AAED,OAAO,SAASM,SAAT,CAAmBR,MAAnB,EAA2BX,SAA3B,EAAsCvB,OAAtC,EAA+Cc,QAA/C,EAAyD;;AAE/D,KAAIqB,eAAJ;AAAA,KAAYC,aAAZ;AACA,KAAIF,OAAO1B,MAAX,EAAmB;AAClB2B,WAASD,OAAO1B,MAAP,CAAcR,QAAQ,CAAR,CAAd,CAAT;AACA,MAAImC,SAASZ,UAAU/E,KAAKsE,QAAL,CAAV,CAAT,IAAsCoB,OAAOS,KAAjD,EAAwD;AACvD,UAAOJ,KAAKK,KAAL,CAAWT,MAAX,CAAP;AACA,GAFD,MAEO;AACNC,UAAO1F,eAAeoE,QAAf,EAAyBqB,MAAzB,EAAiCZ,SAAjC,CAAP;AACA;AACD,EAPD,MAOO;AACN,MAAMxD,IAAImE,OAAOtB,KAAP,GAAevC,GAAf,CAAmB,UAACN,CAAD,EAAIsE,GAAJ;AAAA,UAAa,EAAEC,GAAGC,KAAKC,GAAL,CAASzE,IAAIiC,QAAQ,CAAR,CAAb,CAAL,EAA+BqC,QAA/B,EAAb;AAAA,GAAnB,EAAuEI,MAAvE,CAA8E,UAACjD,CAAD,EAAIC,CAAJ;AAAA,UAAUD,EAAE8C,CAAF,GAAM7C,EAAE6C,CAAR,GAAY9C,CAAZ,GAAgBC,CAA1B;AAAA,GAA9E,CAAV;AACA2C,SAAOxF,UAAUmB,CAAV,IAAe+C,SAAS/C,EAAEsE,GAAX,CAAf,GAAiCvB,SAAS,CAAT,CAAxC;AACA;AACA;AACD,QAAOS,UAAUa,IAAV,CAAP;AACA","file":"ChartDataUtil.js","sourcesContent":["\"use strict\";\n\nimport React from \"react\";\nimport { extent } from \"d3-array\";\nimport { set } from \"d3-collection\";\nimport flattenDeep from \"lodash.flattendeep\";\n\nimport Chart from \"../Chart\";\n\nimport {\n\tlast,\n\tisObject,\n\tgetClosestItem,\n\tzipper,\n\tisDefined,\n\tisNotDefined,\n\tfunctor,\n\tmapObject\n} from \"./index\";\n\nexport function getChartOrigin(origin, contextWidth, contextHeight) {\n\tconst originCoordinates = typeof origin === \"function\"\n\t\t? origin(contextWidth, contextHeight)\n\t\t: origin;\n\treturn originCoordinates;\n}\n\nexport function getDimensions({ width, height }, chartProps) {\n\n\tconst chartWidth = (chartProps.width || width);\n\tconst chartHeight = (chartProps.height || height);\n\n\treturn {\n\t\tavailableWidth: width,\n\t\tavailableHeight: height,\n\t\twidth: chartWidth,\n\t\theight: chartHeight\n\t};\n}\n\nfunction values(func) {\n\treturn (d) => {\n\t\tconst obj = func(d);\n\t\tif (isObject(obj)) {\n\t\t\treturn mapObject(obj);\n\t\t}\n\t\treturn obj;\n\t};\n}\n\nexport function getNewChartConfig(innerDimension, children) {\n\n\treturn React.Children.map(children, (each) => {\n\t\tif (each && each.type.toString() === Chart.toString()) {\n\t\t\tconst chartProps = {\n\t\t\t\t...Chart.defaultProps,\n\t\t\t\t...each.props\n\t\t\t};\n\t\t\tconst { id, origin, padding, yExtents: yExtentsProp, yScale, flipYScale, yExtentsCalculator } = chartProps;\n\t\t\tconst { width, height, availableWidth, availableHeight } = getDimensions(innerDimension, chartProps);\n\t\t\tconst { yPan, yPanEnabled = false } = chartProps;\n\t\t\t// var { yMousePointerRectWidth: rectWidth, yMousePointerRectHeight: rectHeight, yMousePointerArrowWidth: arrowWidth } = each.props;\n\t\t\t// var mouseCoordinates = { at, yDisplayFormat, rectHeight, rectWidth, arrowWidth };\n\t\t\tconst yExtents = isDefined(yExtentsProp)\n\t\t\t\t? (Array.isArray(yExtentsProp) ? yExtentsProp : [yExtentsProp]).map(functor)\n\t\t\t\t: undefined;\n\n\t\t\tif (\n\t\t\t\tArray.isArray(yExtentsProp)\n\t\t\t\t&& yExtentsProp.length === 2\n\t\t\t) {\n\t\t\t\tconst [a, b] = yExtentsProp;\n\t\t\t\tif (typeof a == \"number\" && typeof b == \"number\") {\n\t\t\t\t\tyScale.domain([a, b]);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(yExtentsProp, yExtents);\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\torigin: functor(origin)(availableWidth, availableHeight),\n\t\t\t\tpadding,\n\t\t\t\tyExtents,\n\t\t\t\tyExtentsCalculator,\n\t\t\t\tflipYScale,\n\t\t\t\tyScale: setRange(yScale.copy(), height, padding, flipYScale),\n\t\t\t\tyPan,\n\t\t\t\tyPanEnabled,\n\t\t\t\t// mouseCoordinates,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}).filter(each => isDefined(each));\n}\nexport function getCurrentCharts(chartConfig, mouseXY) {\n\tconst currentCharts = chartConfig.filter(eachConfig => {\n\t\tconst top = eachConfig.origin[1];\n\t\tconst bottom = top + eachConfig.height;\n\t\treturn (mouseXY[1] > top && mouseXY[1] < bottom);\n\t}).map(config => config.id);\n\n\treturn currentCharts;\n}\n\nfunction setRange(scale, height, padding, flipYScale) {\n\n\tif (scale.rangeRoundPoints || isNotDefined(scale.invert)) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\tif (scale.rangeRoundPoints) scale.rangeRoundPoints(flipYScale ? [0, height] : [height, 0], padding);\n\t\tif (scale.rangeRound) scale.range(flipYScale ? [0, height] : [height, 0]).padding(padding);\n\t} else {\n\t\tconst { top, bottom } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { top: padding, bottom: padding };\n\n\t\tscale.range(flipYScale ? [top, height - bottom] : [height - bottom, top]);\n\t}\n\treturn scale;\n}\n\nfunction yDomainFromYExtents(yExtents, yScale, plotData) {\n\tconst yValues = yExtents.map(eachExtent =>\n\t\tplotData.map(values(eachExtent)));\n\n\tconst allYValues = flattenDeep(yValues);\n\t// console.log(allYValues)\n\tconst realYDomain =  (yScale.invert)\n\t\t? extent(allYValues)\n\t\t: set(allYValues).values();\n\n\treturn realYDomain;\n}\n\n\nexport function getChartConfigWithUpdatedYScales(chartConfig,\n\t{ plotData, xAccessor, displayXAccessor, fullData },\n\txDomain,\n\tdy,\n\tchartsToPan) {\n\n\tconst yDomains = chartConfig\n\t\t.map(({ yExtentsCalculator, yExtents, yScale }) => {\n\n\t\t\tconst realYDomain = isDefined(yExtentsCalculator)\n\t\t\t\t? yExtentsCalculator({ plotData, xDomain, xAccessor, displayXAccessor, fullData })\n\t\t\t\t: yDomainFromYExtents(yExtents, yScale, plotData);\n\n\t\t\tconst yDomainDY = isDefined(dy)\n\t\t\t\t? yScale.range().map(each => each - dy).map(yScale.invert)\n\t\t\t\t: yScale.domain();\n\t\t\treturn {\n\t\t\t\trealYDomain,\n\t\t\t\tyDomainDY,\n\t\t\t\tprevYDomain: yScale.domain(),\n\t\t\t};\n\t\t});\n\n\tconst combine = zipper()\n\t\t.combine((config, { realYDomain, yDomainDY, prevYDomain }) => {\n\t\t\tconst { id, padding, height, yScale, yPan, flipYScale, yPanEnabled = false } = config;\n\n\t\t\tconst another = isDefined(chartsToPan)\n\t\t\t\t? chartsToPan.indexOf(id) > -1\n\t\t\t\t: true;\n\t\t\tconst domain = yPan && yPanEnabled\n\t\t\t\t? another ? yDomainDY : prevYDomain\n\t\t\t\t: realYDomain;\n\t\t\t// console.log(yPan, yPanEnabled, another, domain, realYDomain, prevYDomain);\n\t\t\treturn {\n\t\t\t\t...config,\n\t\t\t\tyScale: setRange(yScale.copy().domain(domain), height, padding, flipYScale),\n\t\t\t\trealYDomain,\n\t\t\t};\n\t\t\t// return { ...config, yScale: yScale.copy().domain(domain).range([height - padding, padding]) };\n\t\t});\n\n\tconst updatedChartConfig = combine(chartConfig, yDomains);\n\treturn updatedChartConfig;\n}\n\nexport function getCurrentItem(xScale, xAccessor, mouseXY, plotData) {\n\tlet xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t} else {\n\t\tconst d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn item;\n}\n\nexport function getXValue(xScale, xAccessor, mouseXY, plotData) {\n\n\tlet xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\tif (xValue > xAccessor(last(plotData)) && xScale.value) {\n\t\t\treturn Math.round(xValue);\n\t\t} else {\n\t\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t\t}\n\t} else {\n\t\tconst d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn xAccessor(item);\n}\n"]}